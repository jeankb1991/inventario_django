
{% extends "base_dashboard.html" %}
{% block content %}
<h2>Categorias</h2>
<form class="row g-2 mb-3">
  <div class="col-auto"><input name="q" value="{{ q }}" class="form-control" placeholder="Buscar"></div>
  <div class="col-auto"><button class="btn btn-primary">Buscar</button></div>
  <div class="col-auto"><a href="{% url 'category-add' %}" class="btn btn-success">+ Nova</a></div>
</form>
<table class="table table-striped">
<thead><tr><th>ID</th><th>Nome</th><th>Ações</th></tr></thead>
<tbody>
{% for c in categories %}
<tr><td>{{ c.id }}</td><td>{{ c.name }}</td><td>
<a href="{% url 'category-edit' c.id %}" class="btn btn-sm btn-warning">Editar</a>
<a href="{% url 'category-delete' c.id %}" class="btn btn-sm btn-danger">Excluir</a>
</td></tr>
{% empty %}<tr><td colspan="3">Nenhuma categoria</td></tr>{% endfor %}
</tbody>
</table>
<nav>
  <ul class="pagination">
    {% if categories.has_previous %}
      <li class="page-item"><a class="page-link" href="?page={{ categories.previous_page_number }}{% if q %}&q={{ q }}{% endif %}">Anterior</a></li>
    {% endif %}
    <li class="page-item disabled"><span class="page-link">Página {{ categories.number }} de {{ categories.paginator.num_pages }}</span></li>
    {% if categories.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{ categories.next_page_number }}{% if q %}&q={{ q }}{% endif %}">Próxima</a></li>
    {% endif %}
  </ul>
</nav>
{% endblock %}
